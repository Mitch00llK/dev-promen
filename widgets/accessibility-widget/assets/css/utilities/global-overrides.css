/**
 * Accessibility Widget - Global Page Overrides
 * 
 * CSS classes that apply accessibility features to the entire page.
 * These are applied to the <body> element based on user settings.
 * 
 * @package Promen_Elementor_Widgets
 */

/* ================================
   Text Scaling
   ================================ */

body.a11y-text-scaled {
    font-size: var(--a11y-font-scale, 100%) !important;
}

body.a11y-text-scaled * {
    font-size: inherit;
}

/* ================================
   Page Zoom
   ================================ */

body.a11y-page-zoomed {
    transform: scale(var(--a11y-page-zoom, 1));
    transform-origin: top left;
    width: calc(100% / var(--a11y-page-zoom, 1));
}

/* ================================
   Contrast Modes
   ================================ */

/* High Contrast */
body.a11y-high-contrast {
    filter: contrast(1.5) !important;
}

body.a11y-high-contrast img,
body.a11y-high-contrast video,
body.a11y-high-contrast iframe {
    filter: contrast(0.8);
}

/* Dark Contrast */
body.a11y-dark-contrast {
    background-color: #1a1a2e !important;
    color: #eaeaea !important;
}

body.a11y-dark-contrast *:not(.a11y-widget):not(.a11y-widget *) {
    background-color: inherit;
    color: inherit;
    border-color: #444 !important;
}

body.a11y-dark-contrast a:not(.a11y-widget a) {
    color: #6ec8ff !important;
}

body.a11y-dark-contrast img {
    opacity: 0.9;
}

/* Light Contrast */
body.a11y-light-contrast {
    background-color: #ffffff !important;
    color: #000000 !important;
}

body.a11y-light-contrast *:not(.a11y-widget):not(.a11y-widget *) {
    background-color: #ffffff !important;
    color: #000000 !important;
    border-color: #000000 !important;
}

body.a11y-light-contrast a:not(.a11y-widget a) {
    color: #00008b !important;
    text-decoration: underline !important;
}

/* Monochrome */
body.a11y-monochrome {
    filter: grayscale(100%) !important;
}

/* Invert Colors */
body.a11y-invert {
    filter: invert(100%) hue-rotate(180deg) !important;
}

body.a11y-invert img,
body.a11y-invert video,
body.a11y-invert iframe {
    filter: invert(100%) hue-rotate(180deg);
}

/* Saturation Adjustment */
body.a11y-saturation-adjusted {
    filter: saturate(var(--a11y-saturation, 100%)) !important;
}

/* ================================
   Text Adjustments
   ================================ */

/* Line Height */
body.a11y-line-height-adjusted *:not(.a11y-widget):not(.a11y-widget *) {
    line-height: var(--a11y-line-height-adjust, inherit) !important;
}

/* Letter Spacing */
body.a11y-letter-spacing-adjusted *:not(.a11y-widget):not(.a11y-widget *) {
    letter-spacing: var(--a11y-letter-spacing-adjust, 0px) !important;
}

/* Word Spacing */
body.a11y-word-spacing-adjusted *:not(.a11y-widget):not(.a11y-widget *) {
    word-spacing: var(--a11y-word-spacing-adjust, 0px) !important;
}

/* Dyslexia-Friendly Font */
@font-face {
    font-family: 'OpenDyslexic';
    src: url('https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'OpenDyslexic';
    src: url('https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/woff/OpenDyslexic-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
}

body.a11y-dyslexia-font *:not(.a11y-widget):not(.a11y-widget *) {
    font-family: 'OpenDyslexic', sans-serif !important;
}

/* Text Alignment */
body.a11y-text-align-left *:not(.a11y-widget):not(.a11y-widget *) {
    text-align: left !important;
}

body.a11y-text-align-center *:not(.a11y-widget):not(.a11y-widget *) {
    text-align: center !important;
}

body.a11y-text-align-right *:not(.a11y-widget):not(.a11y-widget *) {
    text-align: right !important;
}

/* ================================
   Focus Indicators
   ================================ */

body.a11y-focus-indicators *:focus {
    outline: var(--a11y-focus-ring-width, 3px) solid var(--a11y-focus-ring-color, #2563eb) !important;
    outline-offset: var(--a11y-focus-ring-offset, 2px) !important;
}

body.a11y-focus-indicators *:focus:not(:focus-visible) {
    outline: none !important;
}

body.a11y-focus-indicators *:focus-visible {
    outline: var(--a11y-focus-ring-width, 3px) solid var(--a11y-focus-ring-color, #2563eb) !important;
    outline-offset: var(--a11y-focus-ring-offset, 2px) !important;
}

/* ================================
   Highlight Links
   ================================ */

body.a11y-highlight-links a:not(.a11y-widget a) {
    background-color: #fffacd !important;
    color: #00008b !important;
    text-decoration: underline !important;
    padding: 2px 4px !important;
    border-radius: 2px !important;
}

/* ================================
   Highlight Headers
   ================================ */

body.a11y-highlight-headers h1:not(.a11y-widget h1),
body.a11y-highlight-headers h2:not(.a11y-widget h2),
body.a11y-highlight-headers h3:not(.a11y-widget h3),
body.a11y-highlight-headers h4:not(.a11y-widget h4),
body.a11y-highlight-headers h5:not(.a11y-widget h5),
body.a11y-highlight-headers h6:not(.a11y-widget h6) {
    background-color: #90ee90 !important;
    padding: 4px 8px !important;
    border-left: 4px solid #228b22 !important;
}

/* ================================
   Stop Animations
   ================================ */

body.a11y-stop-animations *,
body.a11y-stop-animations *::before,
body.a11y-stop-animations *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
}

/* ================================
   Hide Images
   ================================ */

body.a11y-hide-images img:not(.a11y-widget img),
body.a11y-hide-images svg:not(.a11y-widget svg),
body.a11y-hide-images picture:not(.a11y-widget picture),
body.a11y-hide-images [role="img"]:not(.a11y-widget [role="img"]) {
    visibility: hidden !important;
}

body.a11y-hide-images *:not(.a11y-widget):not(.a11y-widget *) {
    background-image: none !important;
}

/* ================================
   Seizure Safe Profile
   ================================ */

body.a11y-seizure-safe *,
body.a11y-seizure-safe *::before,
body.a11y-seizure-safe *::after {
    animation: none !important;
    transition: none !important;
}

body.a11y-seizure-safe {
    filter: saturate(50%) !important;
}